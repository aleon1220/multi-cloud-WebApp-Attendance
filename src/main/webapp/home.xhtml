<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
  <h:head>
    <title>Attendance System</title>
  </h:head>

  <body>
    <p:layout fullPage="true">
      <p:layoutUnit position="center">
        <p:panel>
          <f:facet name="header">Generate Attendance Code</f:facet>
          <h:form id="attendance">
            <p>Attendance System Date</p>
            <h4>Time and Date</h4>
            <p:clock pattern="HH:mm:ss dd/MM/yyyy" mode="server" />
          </h:form>
          <p:outputLabel for="class" value="Select Class: " />
          <p:selectOneMenu
            id="class"
            value="#{attendanceGenerate.className}"
            lazy="true"
            style="width: 150px"
          >
            <f:selectItem itemLabel="Select One Class" itemValue="" />
            <f:selectItems value="#{attendanceGenerate.classes}" />
          </p:selectOneMenu>

          <p>
            Welcome
            <p:outputLabel value="#{userBean.id}" />
            to the session
            <p:outputLabel value="#{Room.obtainSessionNumber}" />
            for Lecture.
            <p:outputLabel value="#{paper.lecturerId}" />
            Generate a code to register attendance for this session.
            Remember each student in the class has a time frame for 1 minute.
          </p>

          <table>
            <tr>
              <th>
                <h:outputText value="Generate Random Code" />
              </th>
              <th rowspan="1">
                <p:commandButton
                  value="Generate Attendance Code"
                  id="generateCode"
                  actionListener="#{attendanceGenerate.generateAttendanceCode}"
                  update="codeId"
                  icon="ui-icon-transferthick-e-w"
                />
              </th>
            </tr>
          </table>

          <table>
            <tr>
              <th rowspan="3" />
              <th rowspan="2">
                <p:button
                  icon="ui-icon-locked"
                  title="Attendance Code"
                  disabled="true"
                />
              </th>

              <th>
                <p:outputLabel
                  id="codeId"
                  value="#{attendanceGenerate.randomCode}"
                />
              </th>
            </tr>
          </table>
          <p:button
            icon="ui-icon-circle-arrow-w"
            title="Go back"
            outcome="main"
          />
        </p:panel>
      </p:layoutUnit>
    </p:layout>
  </body>
</html>
